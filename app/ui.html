<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IDP - Internal Document Platform</title>
    <link rel="icon" type="image/svg+xml" href="/static/idp.svg" />
    <link rel="stylesheet" href="/static/ui.css" />
  </head>

  <body>
    <div class="header">
      <div class="header-left">
        <img src="/static/idp.svg" alt="IDP Logo" />
        <h1>Internal Document Platform</h1>
      </div>

      <div class="header-right">
        <a href="https://github.com/moel1001" target="_blank">GitHub</a>
        <a href="https://linkedin.com/in/mouadelhachimi" target="_blank"
          >LinkedIn</a
        >
      </div>
    </div>

    <p class="muted">
      This UI calls <code>POST /validate</code> on the same host (so no CORS
      needed).
    </p>

    <p class="muted">
      Use the UI below, or call the API directly: <a href="/docs">Swagger</a> ¬∑
      <a href="/openapi.json">OpenAPI</a> ¬∑ <a href="/metrics">Metrics</a>
    </p>

    <div class="card">
      <form id="docForm" novalidate>
        <div class="section">
          <h2>Single Document Validation</h2>
          <div class="row">
            <div>
              <label for="document_id">document_id</label>
              <input
                id="document_id"
                name="document_id"
                placeholder="INV-2026-0001"
              />
            </div>
            <div>
              <label for="document_type">document_type</label>
              <select id="document_type" name="document_type">
                <option value="">-- select --</option>
                <option value="invoice">invoice</option>
                <option value="delivery_note">delivery_note</option>
                <option value="certificate">certificate</option>
                <option value="credit_note">(invalid) credit_note</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="created_at">created_at</label>
              <input id="created_at" name="created_at" type="date" />
            </div>
            <div>
              <label for="source_system">source_system</label>
              <input
                id="source_system"
                name="source_system"
                placeholder="sap"
              />
            </div>
          </div>

          <div class="actions">
            <div class="actions-left">
              <button type="button" id="exampleBtn">Fill example</button>
              <button type="button" id="badExampleBtn">
                Fill invalid example
              </button>
            </div>
            <button type="submit" id="validateBtn">Validate</button>
          </div>
          <div class="result-block">
            <h3>Result</h3>
            <pre id="result" class="status-idle">
üìù Submit a document to see validation result.</pre
            >

            <div class="curl-head">
              <h3>Equivalent curl</h3>
              <button type="button" id="copyCurlBtn" class="btn-small copy-btn">
                üìã Copy command
              </button>

              <span id="copyCurlStatus" class="muted"></span>
            </div>

            <div class="terminal">
              <div class="terminal-bar">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
              </div>
              <pre id="curl">‚Äî</pre>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>Load Testing</h2>
          <div class="load-divider">
            <div>
              <label for="loadCount">load_requests</label>
              <input
                id="loadCount"
                type="number"
                min="1"
                max="5000"
                value="50"
              />
              <div class="muted" style="margin-top: 6px">
                Tip: start with 50‚Äì200 locally. In kind, keep it modest.
              </div>

              <div class="load-buttons">
                <button type="button" id="loadValidBtn">
                  Generate valid load
                </button>
                <button type="button" id="loadInvalidBtn">
                  Generate invalid load
                </button>
                <button type="button" id="stopLoadBtn">Stop</button>
              </div>
            </div>

            <h2 style="margin-top: 12px">Load status</h2>
            <pre id="loadStatus" class="status-idle">
üü¢ Ready to generate load.</pre
            >
          </div>
        </div>
      </form>
    </div>
    <script src="/static/ui.js"></script>
  </body>
</html>
